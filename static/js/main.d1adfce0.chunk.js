(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{154:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),o=a.n(s),c=(a(154),a(40)),i=a(11),l=a(20),d=a(23),j=a(292),u=a(294),b=a(296),m=a(68),p=a(324),h=a(297),x=a(298),O=a(299),f=a(2),g=Object(j.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1}}})),w=function(e){var t=e.onMenuSwitch,a=e.title,n=g();return Object(f.jsx)(u.a,{position:"absolute",className:n.appBar,children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(Q,{edge:"start",className:n.menuButton,color:"inherit",onClick:t,Icon:Object(f.jsx)(h.a,{})}),Object(f.jsx)(m.a,{variant:"h6",className:n.title,children:a}),Object(f.jsx)(p.a,{only:["lg","xl"],children:Object(f.jsx)("div",{children:Object(f.jsx)(Q,{color:"inherit",Icon:Object(f.jsx)(x.a,{})})})}),Object(f.jsx)("div",{children:Object(f.jsx)(Q,{color:"inherit",Icon:Object(f.jsx)(O.a,{})})})]})})};w.defaultProps={title:"Title",onMenuSwitch:null};var v=a(326),C=a(305),y=a(304),P=a(4),R=a(32),I=a(48),S=a(300),k=a(301),B=a(302),T=a(303),L=function(e){e.history;var t=e.title,a=e.Icon,n=(e.staticContext,Object(I.a)(e,["history","title","Icon","staticContext"])),r=Object(i.f)().pathname;return Object(f.jsxs)(S.a,Object(R.a)(Object(R.a)({button:!0},n),{},{selected:r===n.to,children:[Object(f.jsx)(k.a,{children:a}),Object(f.jsx)(B.a,{children:t})]}))};L.defaultProps={title:"Item",Icon:Object(f.jsx)(T.a,{})};var M=Object(j.a)((function(e){var t;return{root:{height:"100%"},drawerOpen:Object(d.a)({},e.breakpoints.down("sm"),{position:"absolute",zIndex:1200,width:"100%",background:"rgba(0, 0, 0, 0.5)"}),drawerPaper:(t={overflowX:"hidden",overflowY:"auto",position:"relative",whiteSpace:"nowrap",width:320,height:"100%",paddingTop:64,transition:e.transitions.create(["width","transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},Object(d.a)(t,e.breakpoints.down("sm"),{position:"absolute"}),Object(d.a)(t,e.breakpoints.down("xs"),{paddingTop:56}),t),drawrePaperClose:Object(d.a)({width:e.spacing(8)},e.breakpoints.down("sm"),{width:320,transform:"translateX(-100%)"})}})),N=function(e){var t,a,n=e.open,r=e.onMenuClose,s=e.list,o=M(),i=s.map((function(e,t){return Object(f.jsx)(L,{component:c.b,to:"/chat/".concat(e.id),title:e.username,Icon:Object(f.jsx)(y.a,{})},t)}));return Object(f.jsx)(v.a,{variant:"permanent",classes:{root:Object(P.a)((t={},Object(d.a)(t,o.root,!0),Object(d.a)(t,o.drawerOpen,n),t)),paper:Object(P.a)((a={},Object(d.a)(a,o.drawerPaper,!0),Object(d.a)(a,o.drawrePaperClose,!n),a))},onClick:r,children:Object(f.jsx)(C.a,{component:"nav",children:i})})};N.defaultProps={open:!1,onMenuClose:null,list:[]};var F=a(262),D=a(322),q=a(308),A=a(309),W=a(306),V=a(307),U=function(e){var t=e.classes,a=e.maxRows,n=e.onChange,r=e.value,s=e.inputRef;return Object(f.jsx)(W.a,{className:t,children:Object(f.jsx)(V.a,{id:"input",multiline:!0,placeholder:"Enter a message",maxRows:a,onChange:n,value:r,inputRef:s})})};U.defaultProps={classes:"",maxRows:6};var z=Object(j.a)((function(e){return{container:{display:"flex",width:"100%",justifyContent:"flex-start",margin:"5px 0"},message:{maxWidth:"70%",backgroundColor:e.palette.primary.light,padding:8,color:"#fff"},left:{justifyContent:"flex-start"},right:{justifyContent:"flex-end"},center:{justifyContent:"center"},typography:{wordBreak:"break-word"},leftMessage:{borderRadius:"15px 10px 10px 0"},rightMessage:{borderRadius:"10px 15px 0 10px"},centerMessage:{borderRadius:15}}})),E=function(e){var t=e.children,a=e.justify,n=Object(I.a)(e,["children","justify"]),r=z(),s=t.split(/\n/).map((function(e,t){return Object(f.jsx)(m.a,Object(R.a)(Object(R.a)({variant:"subtitle1",component:"p"},n),{},{children:e||Object(f.jsx)("span",{children:"\u2002"})}),"message-".concat(t))}));return Object(f.jsx)(D.a,{className:Object(P.a)(r.container,r[a]),children:Object(f.jsx)(D.a,{className:Object(P.a)(r["".concat(a,"Message")],r.message),children:s})})};E.defaultProps={children:null,justify:"left"};var H=Object(j.a)((function(e){return{root:{display:"flex",position:"relative",flexDirection:"column",justifyContent:"flex-end",padding:e.spacing(2),height:"100%",maxWidth:800,borderRadius:10,overflow:"hidden"},chatInputContainer:{display:"flex",bottom:0,width:"100%",left:0},chatInput:{width:"100%"},chatItemContainer:{padding:e.spacing(0,2,3,0),overflow:"auto"}}})),K=function(e){var t=e.messages,a=e.onSubmit,n=e.onKeyDownSubmit,r=e.onTyping,s=e.messageValue,o=e.chatRef,c=e.inputRef,i=H(),l=t.map((function(e){return Object(f.jsx)(E,{justify:1===e.userId?"right":"left",children:e.message},e.id)}));return Object(f.jsxs)(F.a,{classes:{root:i.root},elevation:3,onKeyDown:n,children:[Object(f.jsx)(D.a,{className:i.chatItemContainer,ref:o,children:l}),Object(f.jsxs)(D.a,{className:i.chatInputContainer,children:[Object(f.jsx)(U,{classes:i.chatInput,onChange:r,value:s,inputRef:c}),Object(f.jsx)(q.a,{color:"primary",onClick:a,children:Object(f.jsx)(A.a,{})})]})]})};K.defaultProps={messages:[]};var G=a(310),J=a(311),X=function(){return Object(f.jsx)(G.a,{maxWidth:!1,children:Object(f.jsx)(J.a,{container:!0,alignItems:"center",justifyContent:"center",style:{height:"100%"},children:Object(f.jsx)(J.a,{item:!0,children:Object(f.jsx)(m.a,{variant:"h3",component:"h3",style:{fontWeight:300},children:"Select a chat"})})})})},_=a(312),Q=function(e){var t=e.classes,a=e.color,n=e.Icon,r=(e.variant,e.fabVariant),s=e.fab,o=Object(I.a)(e,["classes","color","Icon","variant","fabVariant","fab"]);return Object(f.jsx)(f.Fragment,{children:s?Object(f.jsx)(_.a,Object(R.a)(Object(R.a)({classes:t,color:a,variant:r},o),{},{children:n})):Object(f.jsx)(q.a,Object(R.a)(Object(R.a)({classes:t,color:a},o),{},{children:n}))})};Q.defaultProps={classes:{},color:"default",Icon:"",fab:!1,fabVariant:"circular"};var Y=a(323),Z=a(321),$=function(e){var t=e.variant,a=e.value,n=e.onChange;return Object(f.jsx)(Z.a,{variant:t,label:"\u041f\u043e\u0438\u0441\u043a",InputProps:{endAdornment:Object(f.jsx)(x.a,{})},value:a,onChange:n,fullWidth:!0,size:"small"})};$.defaultProps={variant:"outlined"};var ee=a(313),te=a(327),ae=a(314),ne=a(315),re=function(e){var t=e.data,a=e.onClick;return Object(f.jsxs)(S.a,{button:!0,children:[Object(f.jsx)(ee.a,{children:Object(f.jsx)(te.a,{src:t.avatarURL})}),Object(f.jsx)(B.a,{primary:t.username}),Object(f.jsx)(ae.a,{children:Object(f.jsx)(Q,{Icon:Object(f.jsx)(ne.a,{}),color:"primary",onClick:a})})]})};re.defaultProps={data:{username:"Anonymous",avatarURL:""}};var se=[{id:1,username:"Sovarim",avatarURL:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.8b73qPicR8REHeclBVgGoQHaHa%26pid%3DApi&f=1"},{id:2,username:"Ivarim",avatarURL:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg"}],oe=function(){var e=se.map((function(e){return Object(f.jsx)(re,{data:e},e.id)}));return Object(f.jsx)(C.a,{children:e})},ce=Object(j.a)((function(e){return{paperRoot:{padding:e.spacing(2)},modal:{paddingTop:"5%"}}})),ie=function(e){var t=e.open,a=e.onClose,n=ce();return Object(f.jsx)(Y.a,{open:t,className:n.modal,onClose:a,children:Object(f.jsx)(G.a,{maxWidth:"sm",children:Object(f.jsxs)(F.a,{elevation:2,classes:{root:n.paperRoot},children:[Object(f.jsx)($,{}),Object(f.jsx)(oe,{})]})})})};ie.defaultProps={open:!1};var le=a(319),de=a(325),je=a(320),ue=a(316),be=a(317),me=a(318),pe=a(85),he=a(37),xe=Object(j.a)((function(e){return{avatarContainer:{display:"flex",justifyContent:"center"},titleContainer:{paddingBottom:20},title:{textAlign:"center"},avatarRoot:{backgroundColor:e.palette.primary.main},TextFieldRoot:{width:"100%"},buttonRoot:{width:"100%"},register:{display:"flex",justifyContent:"center","& .MuiTypography-root":{textDecoration:"none","&:hover":{textDecoration:"underline"}}},actionButton:{padding:0}}})),Oe=function(e){var t=e.showPassword,a=e.onShowPasswordClick,n=e.onSubmit,r=xe();return Object(f.jsxs)(D.a,{children:[Object(f.jsxs)(D.a,{className:r.titleContainer,children:[Object(f.jsx)(D.a,{className:r.avatarContainer,children:Object(f.jsx)(te.a,{classes:{root:r.avatarRoot},children:Object(f.jsx)(ue.a,{})})}),Object(f.jsx)(m.a,{variant:"h5",component:"h1",classes:{root:r.title},children:"Log in"})]}),Object(f.jsx)(pe.a,{initialValues:{username:"",password:""},validationSchema:he.a().shape({username:he.c().max(255).required("username is required"),password:he.c().max(255).required("password is required")}),onSubmit:n,children:function(e){var n=e.values,s=e.errors,o=e.touched,i=e.handleChange,l=e.handleBlur,d=e.handleSubmit;e.isSubmitting;return Object(f.jsx)("form",{onSubmit:d,children:Object(f.jsxs)(J.a,{container:!0,spacing:2,children:[Object(f.jsx)(J.a,{item:!0,xs:12,children:Object(f.jsx)(Z.a,{id:"username",name:"username",type:"text",error:Boolean(o.username&&s.username),helperText:o.username&&s.username,classes:{root:r.TextFieldRoot},variant:"outlined",label:"Username",value:n.username,onBlur:l,onChange:i})}),Object(f.jsx)(J.a,{item:!0,xs:12,children:Object(f.jsx)(Z.a,{id:"password",name:"password",type:t?"text":"password",error:Boolean(o.password&&s.password),helperText:o.password&&s.password,classes:{root:r.TextFieldRoot},variant:"outlined",label:"Password",value:n.password,onBlur:l,onChange:i,InputProps:{endAdornment:Object(f.jsx)(Q,{classes:{root:r.actionButton},Icon:t?Object(f.jsx)(be.a,{}):Object(f.jsx)(me.a,{}),onClick:a})}})}),Object(f.jsx)(J.a,{item:!0,xs:12,children:Object(f.jsx)(W.a,{children:Object(f.jsx)(le.a,{control:Object(f.jsx)(de.a,{id:"rememberMe",color:"primary"}),label:"Remeber me"})})}),Object(f.jsx)(J.a,{item:!0,xs:12,children:Object(f.jsx)(je.a,{classes:{root:r.buttonRoot},color:"primary",variant:"contained",type:"submit",children:"Log in"})}),Object(f.jsx)(J.a,{item:!0,xs:12,classes:{root:r.register},children:Object(f.jsx)(m.a,{variant:"subtitle1",component:c.b,to:"/register",children:"Register"})})]})})}})]})};Oe.defaultProps={showPassword:!1};var fe=Object(j.a)((function(e){return{avatarContainer:{display:"flex",justifyContent:"center"},titleContainer:{paddingBottom:20},title:{textAlign:"center"},avatarRoot:{backgroundColor:e.palette.primary.main},TextFieldRoot:{width:"100%"},buttonRoot:{width:"100%"},register:{display:"flex",justifyContent:"center","& .MuiTypography-root":{textDecoration:"none","&:hover":{textDecoration:"underline"}}},actionButton:{padding:0}}})),ge=function(e){var t=e.onSubmit,a=e.showPassword,n=e.showConfirmPassword,r=e.onShowPasswordClick,s=e.onShowConfirmPasswordClick,o=fe();return Object(f.jsxs)(D.a,{children:[Object(f.jsxs)(D.a,{className:o.titleContainer,children:[Object(f.jsx)(D.a,{className:o.avatarContainer,children:Object(f.jsx)(te.a,{classes:{root:o.avatarRoot},children:Object(f.jsx)(ue.a,{})})}),Object(f.jsx)(m.a,{variant:"h5",component:"h1",classes:{root:o.title},children:"Register"})]}),Object(f.jsx)(pe.a,{initialValues:{username:"",password:"",confirmPassword:""},validationSchema:he.a().shape({username:he.c().min(4).max(255).required("username is required"),password:he.c().min(8).max(255).required("password is required"),confirmPassword:he.c().oneOf([he.b("password")],"passwords must match").required("\u0441onfirm your password")}),onSubmit:t,children:function(e){var t=e.values,c=e.errors,i=e.touched,l=e.handleChange,d=e.handleBlur,j=e.handleSubmit;e.isSubmitting;return Object(f.jsx)("form",{onSubmit:j,children:Object(f.jsxs)(J.a,{container:!0,spacing:2,children:[Object(f.jsx)(J.a,{item:!0,xs:12,children:Object(f.jsx)(Z.a,{id:"username",name:"username",type:"text",error:Boolean(i.username&&c.username),helperText:i.username&&c.username,classes:{root:o.TextFieldRoot},variant:"outlined",label:"Username",value:t.username,onBlur:d,onChange:l})}),Object(f.jsx)(J.a,{item:!0,xs:12,children:Object(f.jsx)(Z.a,{id:"password",name:"password",type:a?"text":"password",error:Boolean(i.password&&c.password),helperText:i.password&&c.password,classes:{root:o.TextFieldRoot},variant:"outlined",label:"Password",value:t.password,onBlur:d,onChange:l,InputProps:{endAdornment:Object(f.jsx)(Q,{classes:{root:o.actionButton},Icon:a?Object(f.jsx)(be.a,{}):Object(f.jsx)(me.a,{}),onClick:r})}})}),Object(f.jsx)(J.a,{item:!0,xs:12,children:Object(f.jsx)(Z.a,{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",error:Boolean(i.confirmPassword&&c.confirmPassword),helperText:i.confirmPassword&&c.confirmPassword,classes:{root:o.TextFieldRoot},variant:"outlined",label:"Confirm Password",value:t.confirmPassword,onBlur:d,onChange:l,InputProps:{endAdornment:Object(f.jsx)(Q,{classes:{root:o.actionButton},Icon:n?Object(f.jsx)(be.a,{}):Object(f.jsx)(me.a,{}),onClick:s})}})}),Object(f.jsx)(J.a,{item:!0,xs:12,children:Object(f.jsx)(je.a,{classes:{root:o.buttonRoot},color:"primary",variant:"contained",type:"submit",children:"Register"})})]})})}})]})},we=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(f.jsx)(Oe,{showPassword:a,onShowPasswordClick:function(){r((function(e){return!e}))},onSubmit:function(e){console.log(e)}})},ve=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),c=o[0],i=o[1];return Object(f.jsx)(ge,{showPassword:a,showConfirmPassword:c,onShowPasswordClick:function(){r((function(e){return!e}))},onShowConfirmPasswordClick:function(){i((function(e){return!e}))},onSubmit:function(e){e.confirmPassword;var t=Object(I.a)(e,["confirmPassword"]);console.log(t)}})},Ce=[{id:1,username:"Sovarim"},{id:2,username:"Persival"},{id:3,username:"King"}],ye=function(e){var t=e.open,a=e.onMenuClose;return Object(f.jsx)(N,{open:t,onMenuClose:a,list:Ce})},Pe=[{id:1,userId:2,chatId:2,message:"\u041c\u0443\u0445\u0430 \u0432\u0443 \u0445\u044c\u043e?"},{id:2,userId:1,chatId:2,message:"\u0414\u0438\u043a\u0430 \u0432\u0443"},{id:3,userId:2,chatId:2,message:"\u04251\u0443\u043c\u043c\u0430 \u0434\u0443\u0439?"},{id:4,userId:1,chatId:2,message:"\u0414\u0435\u0440\u0430 \u043a\u0445\u0438 \u04451\u0443\u043c\u043c\u0430 \u043c\u0430 \u0434\u0430\u0446 "},{id:5,userId:1,chatId:2,message:"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsum Lorem ipsum "}],Re=function(){var e=Object(i.f)().pathname,t=Object(n.useState)(Pe),a=Object(l.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(""),c=Object(l.a)(o,2),d=c[0],j=c[1],u=Object(n.useRef)(),b=Object(n.useRef)();Object(n.useEffect)((function(){b.current&&(b.current.scrollTop=b.current.scrollHeight)}),[r,e]);return Object(f.jsx)(K,{messages:r,onSubmit:function(e){d&&(s((function(e){return e.concat([{id:e[e.length-1].id+1,userId:1,chatId:2,message:d}])})),j(""),u.current.focus())},onTyping:function(e){j(e.target.value)},messageValue:d,inputRef:u,chatRef:b})},Ie=Object(j.a)((function(e){return{container:Object(d.a)({padding:e.spacing(10,3,3,3),backgroundColor:"#c1c0bb"},e.breakpoints.down("xs"),{padding:e.spacing(6,0,0,0)}),actionButton:{position:"fixed",right:20,bottom:20}}})),Se=function(){var e=Ie(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(!1),c=Object(l.a)(o,2),d=c[0],j=c[1];return Object(f.jsxs)("div",{style:{display:"flex",width:"100%",height:"100%"},children:[Object(f.jsx)(w,{onMenuSwitch:function(e){j((function(e){return!e}))},title:"Chat"}),Object(f.jsx)(ye,{open:d,onMenuClose:function(e){e.target.classList.contains("MuiDrawer-root")&&j(!1)}}),Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{exact:!0,path:"/",component:X}),Object(f.jsx)(i.a,{path:"/chat/:id",children:Object(f.jsx)(G.a,{className:e.container,maxWidth:!1,children:Object(f.jsx)(Re,{})})})]}),Object(f.jsx)(p.a,{mdDown:!0,children:Object(f.jsx)(Q,{classes:{root:e.actionButton},Icon:Object(f.jsx)(x.a,{}),fab:!0,onClick:function(){s(!0)},color:"primary"})}),Object(f.jsx)(ie,{open:r,onClose:function(){s(!1)}})]})},ke=Object(j.a)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}}})),Be=function(){var e=ke();return Object(f.jsx)(G.a,{className:e.container,children:Object(f.jsx)(i.c,{children:Object(f.jsx)(i.a,{path:"/component/search-modal",children:Object(f.jsx)(ie,{})})})})},Te=Object(j.a)((function(e){return{containerRoot:{paddingTop:"calc(100vh * .15)"}}})),Le=function(){var e=Te();return Object(f.jsx)(G.a,{maxWidth:"xs",classes:{root:e.containerRoot},children:Object(f.jsx)(we,{})})},Me=Object(j.a)((function(e){return{containerRoot:{paddingTop:"calc(100vh * .15)"}}})),Ne=function(){var e=Me();return Object(f.jsx)(G.a,{maxWidth:"xs",classes:{root:e.containerRoot},children:Object(f.jsx)(ve,{})})};a(259);var Fe=function(){return Object(f.jsx)(c.a,{basename:"/chat",children:Object(f.jsx)("div",{className:"app-wrapper",children:Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{path:"/component",component:Be}),Object(f.jsx)(i.a,{exact:!0,path:"/login",component:Le}),Object(f.jsx)(i.a,{exact:!0,path:"/register",component:Ne}),Object(f.jsx)(i.a,{path:"/",component:Se})]})})})};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Fe,{})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.d1adfce0.chunk.js.map