(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{154:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(10),o=n.n(s),c=(n(154),n(29)),i=n(11),l=n(20),j=n(23),d=n(292),u=n(294),b=n(296),m=n(68),p=n(325),h=n(297),x=n(298),O=n(299),f=n(300),g=n(2),w=Object(d.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1}}})),v=function(e){var t=e.onMenuSwitch,n=e.onExit,a=e.title,r=w();return Object(g.jsx)(u.a,{position:"absolute",className:r.appBar,children:Object(g.jsxs)(b.a,{children:[Object(g.jsx)(Y,{edge:"start",className:r.menuButton,color:"inherit",onClick:t,Icon:Object(g.jsx)(h.a,{})}),Object(g.jsx)(m.a,{variant:"h6",className:r.title,children:a}),Object(g.jsx)(p.a,{only:["lg","xl"],children:Object(g.jsx)("div",{children:Object(g.jsx)(Y,{color:"inherit",Icon:Object(g.jsx)(x.a,{})})})}),Object(g.jsx)("div",{children:Object(g.jsx)(Y,{color:"inherit",Icon:Object(g.jsx)(O.a,{})})}),Object(g.jsx)("div",{children:Object(g.jsx)(Y,{color:"inherit",Icon:Object(g.jsx)(f.a,{}),onClick:n})})]})})};v.defaultProps={title:"Title",onMenuSwitch:null};var C=n(327),y=n(306),P=n(305),I=n(4),R=n(33),S=n(48),k=n(301),B=n(302),T=n(303),L=n(304),M=function(e){e.history;var t=e.title,n=e.Icon,a=(e.staticContext,Object(S.a)(e,["history","title","Icon","staticContext"])),r=Object(i.g)().pathname;return Object(g.jsxs)(k.a,Object(R.a)(Object(R.a)({button:!0},a),{},{selected:r===a.to,children:[Object(g.jsx)(B.a,{children:n}),Object(g.jsx)(T.a,{children:t})]}))};M.defaultProps={title:"Item",Icon:Object(g.jsx)(L.a,{})};var N=Object(d.a)((function(e){var t;return{root:{height:"100%"},drawerOpen:Object(j.a)({},e.breakpoints.down("sm"),{position:"absolute",zIndex:1200,width:"100%",background:"rgba(0, 0, 0, 0.5)"}),drawerPaper:(t={overflowX:"hidden",overflowY:"auto",position:"relative",whiteSpace:"nowrap",width:320,height:"100%",paddingTop:64,transition:e.transitions.create(["width","transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},Object(j.a)(t,e.breakpoints.down("sm"),{position:"absolute"}),Object(j.a)(t,e.breakpoints.down("xs"),{paddingTop:56}),t),drawrePaperClose:Object(j.a)({width:e.spacing(8)},e.breakpoints.down("sm"),{width:320,transform:"translateX(-100%)"})}})),F=function(e){var t,n,a=e.open,r=e.onMenuClose,s=e.list,o=N(),i=s.map((function(e,t){return Object(g.jsx)(M,{component:c.b,to:"/chat/".concat(e.id),title:e.username,Icon:Object(g.jsx)(P.a,{})},t)}));return Object(g.jsx)(C.a,{variant:"permanent",classes:{root:Object(I.a)((t={},Object(j.a)(t,o.root,!0),Object(j.a)(t,o.drawerOpen,a),t)),paper:Object(I.a)((n={},Object(j.a)(n,o.drawerPaper,!0),Object(j.a)(n,o.drawrePaperClose,!a),n))},onClick:r,children:Object(g.jsx)(y.a,{component:"nav",children:i})})};F.defaultProps={open:!1,onMenuClose:null,list:[]};var D=n(262),q=n(323),A=n(309),W=n(310),V=n(307),E=n(308),U=function(e){var t=e.classes,n=e.maxRows,a=e.onChange,r=e.value,s=e.inputRef;return Object(g.jsx)(V.a,{className:t,children:Object(g.jsx)(E.a,{id:"input",multiline:!0,placeholder:"Enter a message",maxRows:n,onChange:a,value:r,inputRef:s})})};U.defaultProps={classes:"",maxRows:6};var z=Object(d.a)((function(e){return{container:{display:"flex",width:"100%",justifyContent:"flex-start",margin:"5px 0"},message:{maxWidth:"70%",backgroundColor:e.palette.primary.light,padding:8,color:"#fff"},left:{justifyContent:"flex-start"},right:{justifyContent:"flex-end"},center:{justifyContent:"center"},typography:{wordBreak:"break-word"},leftMessage:{borderRadius:"15px 10px 10px 0"},rightMessage:{borderRadius:"10px 15px 0 10px"},centerMessage:{borderRadius:15}}})),H=function(e){var t=e.children,n=e.justify,a=Object(S.a)(e,["children","justify"]),r=z(),s=t.split(/\n/).map((function(e,t){return Object(g.jsx)(m.a,Object(R.a)(Object(R.a)({variant:"subtitle1",component:"p"},a),{},{children:e||Object(g.jsx)("span",{children:"\u2002"})}),"message-".concat(t))}));return Object(g.jsx)(q.a,{className:Object(I.a)(r.container,r[n]),children:Object(g.jsx)(q.a,{className:Object(I.a)(r["".concat(n,"Message")],r.message),children:s})})};H.defaultProps={children:null,justify:"left"};var K=Object(d.a)((function(e){return{root:{display:"flex",position:"relative",flexDirection:"column",justifyContent:"flex-end",padding:e.spacing(2),height:"100%",maxWidth:800,borderRadius:10,overflow:"hidden"},chatInputContainer:{display:"flex",bottom:0,width:"100%",left:0},chatInput:{width:"100%"},chatItemContainer:{padding:e.spacing(0,2,3,0),overflow:"auto"}}})),G=function(e){var t=e.messages,n=e.onSubmit,a=e.onKeyDownSubmit,r=e.onTyping,s=e.messageValue,o=e.chatRef,c=e.inputRef,i=K(),l=t.map((function(e){return Object(g.jsx)(H,{justify:1===e.userId?"right":"left",children:e.message},e.id)}));return Object(g.jsxs)(D.a,{classes:{root:i.root},elevation:3,onKeyDown:a,children:[Object(g.jsx)(q.a,{className:i.chatItemContainer,ref:o,children:l}),Object(g.jsxs)(q.a,{className:i.chatInputContainer,children:[Object(g.jsx)(U,{classes:i.chatInput,onChange:r,value:s,inputRef:c}),Object(g.jsx)(A.a,{color:"primary",onClick:n,children:Object(g.jsx)(W.a,{})})]})]})};G.defaultProps={messages:[]};var J=n(311),X=n(312),_=function(){return Object(g.jsx)(J.a,{maxWidth:!1,children:Object(g.jsx)(X.a,{container:!0,alignItems:"center",justifyContent:"center",style:{height:"100%"},children:Object(g.jsx)(X.a,{item:!0,children:Object(g.jsx)(m.a,{variant:"h3",component:"h3",style:{fontWeight:300},children:"Select a chat"})})})})},Q=n(313),Y=function(e){var t=e.classes,n=e.color,a=e.Icon,r=(e.variant,e.fabVariant),s=e.fab,o=Object(S.a)(e,["classes","color","Icon","variant","fabVariant","fab"]);return Object(g.jsx)(g.Fragment,{children:s?Object(g.jsx)(Q.a,Object(R.a)(Object(R.a)({classes:t,color:n,variant:r},o),{},{children:a})):Object(g.jsx)(A.a,Object(R.a)(Object(R.a)({classes:t,color:n},o),{},{children:a}))})};Y.defaultProps={classes:{},color:"default",Icon:"",fab:!1,fabVariant:"circular"};var Z=n(324),$=n(322),ee=function(e){var t=e.variant,n=e.value,a=e.onChange;return Object(g.jsx)($.a,{variant:t,label:"\u041f\u043e\u0438\u0441\u043a",InputProps:{endAdornment:Object(g.jsx)(x.a,{})},value:n,onChange:a,fullWidth:!0,size:"small"})};ee.defaultProps={variant:"outlined"};var te=n(314),ne=n(328),ae=n(315),re=n(316),se=function(e){var t=e.data,n=e.onClick;return Object(g.jsxs)(k.a,{button:!0,children:[Object(g.jsx)(te.a,{children:Object(g.jsx)(ne.a,{src:t.avatarURL})}),Object(g.jsx)(T.a,{primary:t.username}),Object(g.jsx)(ae.a,{children:Object(g.jsx)(Y,{Icon:Object(g.jsx)(re.a,{}),color:"primary",onClick:n})})]})};se.defaultProps={data:{username:"Anonymous",avatarURL:""}};var oe=[{id:1,username:"Sovarim",avatarURL:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.8b73qPicR8REHeclBVgGoQHaHa%26pid%3DApi&f=1"},{id:2,username:"Ivarim",avatarURL:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg"}],ce=function(){var e=oe.map((function(e){return Object(g.jsx)(se,{data:e},e.id)}));return Object(g.jsx)(y.a,{children:e})},ie=Object(d.a)((function(e){return{paperRoot:{padding:e.spacing(2)},modal:{paddingTop:"5%"}}})),le=function(e){var t=e.open,n=e.onClose,a=ie();return Object(g.jsx)(Z.a,{open:t,className:a.modal,onClose:n,children:Object(g.jsx)(J.a,{maxWidth:"sm",children:Object(g.jsxs)(D.a,{elevation:2,classes:{root:a.paperRoot},children:[Object(g.jsx)(ee,{}),Object(g.jsx)(ce,{})]})})})};le.defaultProps={open:!1};var je=n(320),de=n(326),ue=n(321),be=n(317),me=n(318),pe=n(319),he=n(85),xe=n(39),Oe=Object(d.a)((function(e){return{avatarContainer:{display:"flex",justifyContent:"center"},titleContainer:{paddingBottom:20},title:{textAlign:"center"},avatarRoot:{backgroundColor:e.palette.primary.main},TextFieldRoot:{width:"100%"},buttonRoot:{width:"100%"},register:{display:"flex",justifyContent:"center","& .MuiTypography-root":{textDecoration:"none","&:hover":{textDecoration:"underline"}}},actionButton:{padding:0}}})),fe=function(e){var t=e.showPassword,n=e.onShowPasswordClick,a=e.onSubmit,r=Oe();return Object(g.jsxs)(q.a,{children:[Object(g.jsxs)(q.a,{className:r.titleContainer,children:[Object(g.jsx)(q.a,{className:r.avatarContainer,children:Object(g.jsx)(ne.a,{classes:{root:r.avatarRoot},children:Object(g.jsx)(be.a,{})})}),Object(g.jsx)(m.a,{variant:"h5",component:"h1",classes:{root:r.title},children:"Log in"})]}),Object(g.jsx)(he.a,{initialValues:{username:"",password:""},validationSchema:xe.a().shape({username:xe.c().max(255).required("username is required"),password:xe.c().max(255).required("password is required")}),onSubmit:a,children:function(e){var a=e.values,s=e.errors,o=e.touched,i=e.handleChange,l=e.handleBlur,j=e.handleSubmit;e.isSubmitting;return Object(g.jsx)("form",{onSubmit:j,children:Object(g.jsxs)(X.a,{container:!0,spacing:2,children:[Object(g.jsx)(X.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{id:"username",name:"username",type:"text",error:Boolean(o.username&&s.username),helperText:o.username&&s.username,classes:{root:r.TextFieldRoot},variant:"outlined",label:"Username",value:a.username,onBlur:l,onChange:i})}),Object(g.jsx)(X.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{id:"password",name:"password",type:t?"text":"password",error:Boolean(o.password&&s.password),helperText:o.password&&s.password,classes:{root:r.TextFieldRoot},variant:"outlined",label:"Password",value:a.password,onBlur:l,onChange:i,InputProps:{endAdornment:Object(g.jsx)(Y,{classes:{root:r.actionButton},Icon:t?Object(g.jsx)(me.a,{}):Object(g.jsx)(pe.a,{}),onClick:n})}})}),Object(g.jsx)(X.a,{item:!0,xs:12,children:Object(g.jsx)(V.a,{children:Object(g.jsx)(je.a,{control:Object(g.jsx)(de.a,{id:"rememberMe",color:"primary"}),label:"Remeber me"})})}),Object(g.jsx)(X.a,{item:!0,xs:12,children:Object(g.jsx)(ue.a,{classes:{root:r.buttonRoot},color:"primary",variant:"contained",type:"submit",children:"Log in"})}),Object(g.jsx)(X.a,{item:!0,xs:12,classes:{root:r.register},children:Object(g.jsx)(m.a,{variant:"subtitle1",component:c.b,to:"/register",children:"Register"})})]})})}})]})};fe.defaultProps={showPassword:!1};var ge=Object(d.a)((function(e){return{avatarContainer:{display:"flex",justifyContent:"center"},titleContainer:{paddingBottom:20},title:{textAlign:"center"},avatarRoot:{backgroundColor:e.palette.primary.main},TextFieldRoot:{width:"100%"},buttonRoot:{width:"100%"},register:{display:"flex",justifyContent:"center","& .MuiTypography-root":{textDecoration:"none","&:hover":{textDecoration:"underline"}}},actionButton:{padding:0}}})),we=function(e){var t=e.onSubmit,n=e.showPassword,a=e.showConfirmPassword,r=e.onShowPasswordClick,s=e.onShowConfirmPasswordClick,o=ge();return Object(g.jsxs)(q.a,{children:[Object(g.jsxs)(q.a,{className:o.titleContainer,children:[Object(g.jsx)(q.a,{className:o.avatarContainer,children:Object(g.jsx)(ne.a,{classes:{root:o.avatarRoot},children:Object(g.jsx)(be.a,{})})}),Object(g.jsx)(m.a,{variant:"h5",component:"h1",classes:{root:o.title},children:"Register"})]}),Object(g.jsx)(he.a,{initialValues:{username:"",password:"",confirmPassword:""},validationSchema:xe.a().shape({username:xe.c().min(4).max(255).required("username is required"),password:xe.c().min(8).max(255).required("password is required"),confirmPassword:xe.c().oneOf([xe.b("password")],"passwords must match").required("\u0441onfirm your password")}),onSubmit:t,children:function(e){var t=e.values,c=e.errors,i=e.touched,l=e.handleChange,j=e.handleBlur,d=e.handleSubmit;e.isSubmitting;return Object(g.jsx)("form",{onSubmit:d,children:Object(g.jsxs)(X.a,{container:!0,spacing:2,children:[Object(g.jsx)(X.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{id:"username",name:"username",type:"text",error:Boolean(i.username&&c.username),helperText:i.username&&c.username,classes:{root:o.TextFieldRoot},variant:"outlined",label:"Username",value:t.username,onBlur:j,onChange:l})}),Object(g.jsx)(X.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{id:"password",name:"password",type:n?"text":"password",error:Boolean(i.password&&c.password),helperText:i.password&&c.password,classes:{root:o.TextFieldRoot},variant:"outlined",label:"Password",value:t.password,onBlur:j,onChange:l,InputProps:{endAdornment:Object(g.jsx)(Y,{classes:{root:o.actionButton},Icon:n?Object(g.jsx)(me.a,{}):Object(g.jsx)(pe.a,{}),onClick:r})}})}),Object(g.jsx)(X.a,{item:!0,xs:12,children:Object(g.jsx)($.a,{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",error:Boolean(i.confirmPassword&&c.confirmPassword),helperText:i.confirmPassword&&c.confirmPassword,classes:{root:o.TextFieldRoot},variant:"outlined",label:"Confirm Password",value:t.confirmPassword,onBlur:j,onChange:l,InputProps:{endAdornment:Object(g.jsx)(Y,{classes:{root:o.actionButton},Icon:a?Object(g.jsx)(me.a,{}):Object(g.jsx)(pe.a,{}),onClick:s})}})}),Object(g.jsx)(X.a,{item:!0,xs:12,children:Object(g.jsx)(ue.a,{classes:{root:o.buttonRoot},color:"primary",variant:"contained",type:"submit",children:"Register"})})]})})}})]})},ve=function(){var e=Object(i.f)(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],s=n[1];return Object(g.jsx)(fe,{showPassword:r,onShowPasswordClick:function(){s((function(e){return!e}))},onSubmit:function(t){e.push("/")}})},Ce=function(){var e=Object(i.f)(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)(!1),c=Object(l.a)(o,2),j=c[0],d=c[1];return Object(g.jsx)(we,{showPassword:r,showConfirmPassword:j,onShowPasswordClick:function(){s((function(e){return!e}))},onShowConfirmPasswordClick:function(){d((function(e){return!e}))},onSubmit:function(t){t.confirmPassword,Object(S.a)(t,["confirmPassword"]);e.push("/")}})},ye=[{id:1,username:"Sovarim"},{id:2,username:"Persival"},{id:3,username:"King"}],Pe=function(e){var t=e.open,n=e.onMenuClose;return Object(g.jsx)(F,{open:t,onMenuClose:n,list:ye})},Ie=[{id:1,userId:2,chatId:2,message:"\u041c\u0443\u0445\u0430 \u0432\u0443 \u0445\u044c\u043e?"},{id:2,userId:1,chatId:2,message:"\u0414\u0438\u043a\u0430 \u0432\u0443"},{id:3,userId:2,chatId:2,message:"\u04251\u0443\u043c\u043c\u0430 \u0434\u0443\u0439?"},{id:4,userId:1,chatId:2,message:"\u0414\u0435\u0440\u0430 \u043a\u0445\u0438 \u04451\u0443\u043c\u043c\u0430 \u043c\u0430 \u0434\u0430\u0446 "},{id:5,userId:1,chatId:2,message:"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsumLorem ipsum Lorem ipsum "}],Re=function(){var e=Object(i.g)().pathname,t=Object(a.useState)(Ie),n=Object(l.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)(""),c=Object(l.a)(o,2),j=c[0],d=c[1],u=Object(a.useRef)(),b=Object(a.useRef)();Object(a.useEffect)((function(){b.current&&(b.current.scrollTop=b.current.scrollHeight)}),[r,e]);return Object(g.jsx)(G,{messages:r,onSubmit:function(e){j&&(s((function(e){return e.concat([{id:e[e.length-1].id+1,userId:1,chatId:2,message:j}])})),d(""),u.current.focus())},onTyping:function(e){d(e.target.value)},messageValue:j,inputRef:u,chatRef:b})},Se=Object(d.a)((function(e){return{container:Object(j.a)({padding:e.spacing(10,3,3,3),backgroundColor:"#c1c0bb"},e.breakpoints.down("xs"),{padding:e.spacing(6,0,0,0)}),actionButton:{position:"fixed",right:20,bottom:20}}})),ke=function(){var e=Se(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)(!1),c=Object(l.a)(o,2),j=c[0],d=c[1],u=Object(i.f)();return Object(g.jsxs)("div",{style:{display:"flex",width:"100%",height:"100%"},children:[Object(g.jsx)(v,{onMenuSwitch:function(e){d((function(e){return!e}))},onExit:function(){u.push("/login")},title:"Chat"}),Object(g.jsx)(Pe,{open:j,onMenuClose:function(e){e.target.classList.contains("MuiDrawer-root")&&d(!1)}}),Object(g.jsxs)(i.c,{children:[Object(g.jsx)(i.a,{exact:!0,path:"/",component:_}),Object(g.jsx)(i.a,{path:"/chat/:id",children:Object(g.jsx)(J.a,{className:e.container,maxWidth:!1,children:Object(g.jsx)(Re,{})})})]}),Object(g.jsx)(p.a,{mdDown:!0,children:Object(g.jsx)(Y,{classes:{root:e.actionButton},Icon:Object(g.jsx)(x.a,{}),fab:!0,onClick:function(){s(!0)},color:"primary"})}),Object(g.jsx)(le,{open:r,onClose:function(){s(!1)}})]})},Be=Object(d.a)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}}})),Te=function(){var e=Be();return Object(g.jsx)(J.a,{className:e.container,children:Object(g.jsx)(i.c,{children:Object(g.jsx)(i.a,{path:"/component/search-modal",children:Object(g.jsx)(le,{})})})})},Le=Object(d.a)((function(e){return{containerRoot:{paddingTop:"calc(100vh * .15)"}}})),Me=function(){var e=Le();return Object(g.jsx)(J.a,{maxWidth:"xs",classes:{root:e.containerRoot},children:Object(g.jsx)(ve,{})})},Ne=Object(d.a)((function(e){return{containerRoot:{paddingTop:"calc(100vh * .15)"}}})),Fe=function(){var e=Ne();return Object(g.jsx)(J.a,{maxWidth:"xs",classes:{root:e.containerRoot},children:Object(g.jsx)(Ce,{})})};n(259);var De=function(){return Object(g.jsx)(c.a,{basename:"/chat",children:Object(g.jsx)("div",{className:"app-wrapper",children:Object(g.jsxs)(i.c,{children:[Object(g.jsx)(i.a,{path:"/component",component:Te}),Object(g.jsx)(i.a,{exact:!0,path:"/login",component:Me}),Object(g.jsx)(i.a,{exact:!0,path:"/register",component:Fe}),Object(g.jsx)(i.a,{path:"/",component:ke})]})})})};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(De,{})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.ea7537e3.chunk.js.map